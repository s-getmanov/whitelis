import{_ as b,c as o,a as s,F as f,r as v,b as _,o as y,E as h,d as x,e as r,t as d,n as k,f as m,w as p,g}from"./index.js";const w={name:"JudgeEvents",setup(){const c=_([]),t=_(!0),i=async()=>{try{const a=await h.getAll();c.value=a.data||[]}catch(a){console.error("Ошибка загрузки мероприятий:",a),c.value=[]}finally{t.value=!1}},n=a=>new Date(a).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"}),l=a=>{switch(a){case"active":return"bg-success";case"draft":return"bg-secondary";case"completed":return"bg-info";default:return"bg-light text-dark"}};return y(()=>{i()}),{events:c,loading:t,formatDate:n,statusClass:l}}},E={class:"judge-events"},C={key:0,class:"text-center"},D={key:1,class:"alert alert-warning"},I={key:2,class:"row"},j={class:"card"},B={class:"card-body"},F={class:"card-title"},J={class:"card-text"},L={class:"text-muted"},N={class:"card-text"},S={class:"d-flex justify-content-between"},V={class:"badge bg-primary"},R={class:"mt-3"};function z(c,t,i,n,l,a){const u=x("router-link");return r(),o("div",E,[t[3]||(t[3]=s("h2",{class:"mb-4"},"Мои мероприятия",-1)),n.loading?(r(),o("div",C,[...t[0]||(t[0]=[s("div",{class:"spinner-border text-primary",role:"status"},[s("span",{class:"visually-hidden"},"Загрузка...")],-1)])])):n.events.length===0?(r(),o("div",D," Нет назначенных мероприятий ")):(r(),o("div",I,[(r(!0),o(f,null,v(n.events,e=>(r(),o("div",{key:e.id,class:"col-md-6 mb-3"},[s("div",j,[s("div",B,[s("h5",F,d(e.title),1),s("p",J,[s("small",L,d(n.formatDate(e.date))+" • "+d(e.location),1)]),s("p",N,d(e.description),1),s("div",S,[s("span",V,d(e.discipline),1),s("span",{class:k(["badge",n.statusClass(e.status)])},d(e.status),3)]),s("div",R,[m(u,{to:{name:"JudgeFinishLine",params:{eventId:e.id}},class:"btn btn-sm btn-success me-2"},{default:p(()=>[...t[1]||(t[1]=[g(" Фиксация результатов ",-1)])]),_:1},8,["to"]),m(u,{to:{name:"JudgeResultsInput",params:{eventId:e.id}},class:"btn btn-sm btn-outline-primary"},{default:p(()=>[...t[2]||(t[2]=[g(" Просмотр результатов ",-1)])]),_:1},8,["to"])])])])]))),128))]))])}const M=b(w,[["render",z],["__scopeId","data-v-b04bd66a"]]);export{M as default};
